### 页面第一次加载时接口异步但有些需要触发同步操作

####问题

在用户登录进入系统时，页面接口都是异步加载（同时一起加载），但是有些接口存在同步问题

用户系统中只有（id和名称）

在加载页面时，用户需要根据地域加载不同的资源，这里地域是个列表。

所以会报接口中的参数为空值


####方案

1. 在用户系统中存入用户所属的地域，这样在成功登录后，即可获得所属地域

2. 将用户所属地域放置在`localStorage`中，这样若存在数据，则从`localStorage`中获取，但存在问题，当清空缓存后，`localStorage`也没有值，也会出现该问题

3. 在加载列表中先等所属地域查询后，在加载需要这个接口的页面，但是各个控制都是同时加载的，无法判断。
   则控制页面，设置判断地域查询成功后，再将页面设置为true。
   因为`angulaJS`中控制页面即控制`controller`的加载顺序，即控制接口的调用顺序


####结论

此处该地域最好的方案是保存在用户系统中。

最终采用的方法：

在js中设置一个变量为isShow，当地域列表加载完成后，设置isShow为true，此时再加载页面，即不会出现上述问题。

