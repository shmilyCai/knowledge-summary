#### 迭代器（Iterator）与生成器（Generator）

https://segmentfault.com/a/1190000010747122

循环语句的问题

```
var colors = ["red", "green", "blue"];
for(var i=0; i<colors.length; i++){
    console.log(colors[i]);
}
```

在ES6之前，这种标准的for循环，通过变量来跟踪数组的索引。如果多个循环嵌套就需要追踪多个变量，代码复杂度会大大增加，也容易产生错用循环变量的bug。

迭代器的出现旨在消除这种复杂性并减少循环中的错误。

迭代器是一个拥有next()方法的特殊对象，每次调用next()都返回一个结果对象

生成器是一种返回迭代器的函数，通过function关键字后的星号（*）来表示，函数中会用到新的关键字yield



在ES6中，所有的集合对象（数组、Set集合及Map集合）和字符串都是可迭代对象，可迭代对象都绑定了默认的迭代器

```
var colors = ["red", "green", "blue"];
for(let color of colors){
    console.log(color);
}
```

for-of循环，可作用在可迭代对象上，正是利用了可迭代对象上的默认迭代器。大致过程是：for-of循环每执行一次都会调用可迭代对象的next()方法，并将迭代器返回的结果对象的value属性存储在变量中，循环将继续执行这一过程直到返回对象的done属性的值为true。

ES6中的集合对象，数组、Set集合和Map集合，都内建了三种迭代器：

1. entries() 返回一个迭代器，其值为多个键值对。
如果是数组，第一个元素是索引位置；如果是Set集合，第一个元素与第二个元素一样，都是值。

2. values() 返回一个迭代器，其值为集合的值。

3. keys() 返回一个迭代器，其值为集合中的所有键名。
如果是数组，返回的是索引；如果是Set集合，返回的是值（Set的值被同时用作键和值）。