# typeScript速成

## 总结

此笔记来自于迈向angular2：基于typescript的高性能SPA框架中的typeScript速成。

大概讲了下typescript在angular中能够使用的部分，并未详细记录，待后面深入学习。

typescript优点：
1. 编译时类型检查，提供了正式的，可验证的命名规则，从而可以方便大型团队之间的协作。
2. 类型注解，使用元数据来给代码添加注解
3. Javascript的超集
4. 支持可选的类型检查

TypeScript自带编译器


## ES2015中的箭头函数

箭头函数的执行上下文（this）指向为外层的代码的非匿名函数

## 基于原型的类

JavaScript用的是基于原型的OO（object-oriented）模型

用对象字面量或者函数（构造函数）来实例化对象，用js的原型链实现继承

## 定义在块级作用域中可见的变量

let定义块级作用域中的可见变量

## 使用ES2016装饰器进行元变成

装饰器的最大作用是修改预定义好的逻辑，或者给各种结构添加一些元数据。

另一个作用就是在声明式语法里面，从而实现切面的编程。

## ES2015编写模块化的代码

angularjs1.x中的模块化系统不支持懒加载

WS2015提供了两个API来定义和消费模块：
1. 声明式API
2. 命令式API，使用模块加载器

使用as定义别名

默认导出是带名字的导出，使用default作为修饰符

模块加载器API允许定义并导入模块，还可以配置模块的加载方式

## 发挥静态类型的优势

typescript经过一个中间处理过程，在这个过程中会进行类型检查，同时把所有类型声明剔除掉，最终生成浏览器可以支持的合法的JavaScript代码。

## any类型

typescript中的所有类都是any类的子类，可以使用关键字any把变量声明成any类型。

其他类型分类：
1. 原生类型：包括Number，String，Boolean，Void，Null，Undefined，以及Enum
2. 组合类型，
3. Object类型：包括Function型，class和interface类型引用，array型，tuple（元组）型，function型，以及constructor（构造器）型
4. 泛型，

## Enum类型

Enum是用户自定义的原生类型，根据设计文档上的描述，它们是Number的子类。

## Array类型

typescript里面数组中的元素类型必须相同，对于给定的数组，里面不能容纳类型不同的元素。

如果要容纳多种对象类型的数组，可把引用类型声明成any

## Function类型

函数类型是所有函数的集合，这些函数带有不同的函数名称，包括不同的参数个数，不同的参数类型或者不同类型的返回值

typescript唯一修改的内容就是函数参数的类型和返回值的类型。
在编译器做完类型校验和翻译之后，所有类型注解都会被删除掉

## 访问修饰符

typescript支持以下访问修饰符：
1. public，所有定义成public的属性和方法都可以在任何地方进行访问
2. private，所有定义在private的属性和方法都只能在类定义内部进行访问
3. protected，所有定义成protected的属性和方法可以从类定义内部访问，也可以从子类中反问
4. extends，经过脱糖处理之后可以把代码转换成基于原型继承的JavaScript代码

访问修饰符可以实现更好的封装和更优雅的接口

## 定义接口

在JavaScript里，使用duck typing（鸭子类型）。

如果对象实现了一个指定的接口，那必须实现这个接口里面所定义的所有方法，否则会报错误。

## 接口继承

接口之间也可以互相继承

如果类的行为是很多接口中定义的行为的并集，那么类可以实现所有这些接口

## 装饰器提升表现力

ES2015中，装饰器可装饰类，属性，方法，getter和setter，
typescript中还允许装饰函数和方法的参数

参数装饰器不可以修改任何其他行为，仅仅用来生成元数据而已。

装饰器的最典型用法就是用在angular2中的依赖注入机制

## 类型参数

```
class Node<T>{
      value:T;
      left:Node<T>;
      right:Node<T>;
}
Node<T>表示这个类可以接收单个参数T，这个参数在类中的某个地方会使用到。
```

## 泛型参数

泛型的典型用法就是用来定义一种可以操作一组类型的函数。

## 多重泛型

Typescript允许使用多重泛型







